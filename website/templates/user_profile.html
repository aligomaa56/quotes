{% extends 'base.html' %} {%block body%}
<div class="container">
  <br /><br />
  <h2>
    {% if user.profile_picture %}

    <img src="../static/images/{{user.profile_picture}}" alt="Avatar Image" style="border-radius: 50%; width: 150px; height: 150px">

    {% else %}
    <img
      src="../static/images/default_profile_photo.jpg"
      alt="Avatar image" style="border-radius: 50%; width: 150px; height: 150px"
    /> {% endif %}
    <span style="padding: 20px">{{name}}</span>
  </h2>
  {% if id == current_user.id %}
  <a
    href="/edit/profile"
    style="font-size: small"
    class="btn btn-secondary btn-sm"
    >Edit your profile</a
  >

  <br /><br />
  <div class="container">
    <!-- FORM -->
    <form method="post">
        <textarea name="post" cols="30" rows="10" class="form-control" placeholder="Write a post here..." maxlength="10000" required></textarea>
        <br />
        <input type="submit" value="Create Post" class="form-control btn btn-primary" />
    </form>
</div>


  {% else %} {% endif %} <br />
  <h4>Recent Posts</h4>
  {% if posts %}{% else %}
  <p>This user has no posts.</p>
  {% endif %} {% for post in posts %}
  <div class="border" style="border-radius: 10px; padding: 5px">
    <p>{{ post.data }}</p>
    <small
      >{% if id == current_user.id %}
      <a
        href="{{ url_for('views.delete_post', id=post.id) }}"
        onclick="return confirm('Are you sure you want to delete this post?')"
        class="btn btn-sm btn-warning"
        >Delete Post</a
      ></small
    >{% endif %}
    <!-- Liking Post -->
    <form action="/post/{{post.id}}/like" method="post" style="display: inline">
      <input type="submit" class="btn btn-danger btn-sm" style="background-color: black; border-color: black;" value="🤍" />
      <p style="display: inline">{{ post.likes | count }}</p></form>
    </form>
  </div>
  <br/>
  {% endfor %}

  <br />

  <h4>Bio</h4>
  {% if user.bio == None or user.bio == "" %}
  <p>This user has no bio.</p>
  {% else %}
  <div class="container border" style="border-radius: 10px;">
  <p class="" style="padding: 10px">{{ user.bio }}</p></div><br>
  {% endif %}
  <p><b>Date Joined: </b>{{date_joined}}</p>
</div>
{%endblock%}
